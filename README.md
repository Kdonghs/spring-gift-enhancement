# spring-gift-enhancement

## step0 구현 기능

- 3주차 코드 클론
- 비밀번호 암호화
  - spring security BCryptPasswordEncoder로 암호화
  - data.sql로 유저를 생성하면 db에 암호화가 안된채로 저장됨으로 UserCreator추가
    - UserCreator는 @PostConstruct를 사용한다.
    - 의존성 주입이 이루어진 후 초기화를 수행하는 메서드이다
  - 로그인시 email로 유저를 조회하고 조회된 비밀번호화 입력된 비밀번호를 대조해서 인증한다.
  - 유저 생성과 비밀번호 수정시 유저를 검증하고 비밀번호를 암호화 해서 저장한다.

## step1 구현 기능
  
- 상품에 카테고리를 추가한다.
- 카테고리 crud 구현
  - 카테고리명은 중복될 수 없다.
  - 상품이 존재하지 않는 카테고리만 삭제가 가능하다.
- 상품 생성및 수정시 카테고리 id가 필수적으로 수정됨.
- 상품은 한개의 카테고리만 가진다.
- 카테고리는 카테고리명과 상품 리스트를 가진다.
- 카테고리와 상품은 1:n을 가진다.
- 상품 리스트와 특정 상품을 조회하는 기능의 경우 ProductDetail 형태로 반환하게 수정한다.
  - 상품id
  - 상품명
  - 가격
  - 이미지url
  - 생성일
  - 수정일
  - 위시리스트에 담은 유저id리스트
  - 카테고리id